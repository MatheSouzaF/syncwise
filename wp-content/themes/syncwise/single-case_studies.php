<?php
wp_enqueue_style('Single Media Center', get_template_directory_uri() . '/assets/dist/css/single/single-case_studies.css', ['main'], ASSETS_VERSION);

get_header();

if (have_posts()):
    while (have_posts()):
        the_post();
        ?>

        <article class="single-media-center-post">
            <div class="wrapper">

                <?php if (has_post_thumbnail()): ?>
                    <div class="media-hero">
                        <?php the_post_thumbnail('full', array('class' => 'media-hero__image')); ?>
                    </div>
                <?php endif; ?>
                <?php
                $share_networks = get_field('icons_share'); // array com slugs
        
                if (!empty($share_networks)):  // garante que só exibe se houver pelo menos um
                    $post_url = urlencode(get_permalink());
                    $post_title = urlencode(get_the_title());
                    ?>
                    <div class="custom-share-buttons">
                        <h3 class="title-share">Share this post:</h3>
                        <div class="box-icons">
                            <?php foreach ($share_networks as $network): ?>


                                <?php
                                // Define o SVG e o link de compartilhamento conforme a rede
                                switch ($network) {
                                    case 'linkedin':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M13.8133 11.8262C13.3324 11.8262 12.8712 12.0163 12.5311 12.3547C12.191 12.6932 12 13.1522 12 13.6308C12 14.1094 12.191 14.5684 12.5311 14.9069C12.8712 15.2453 13.3324 15.4354 13.8133 15.4354C14.2943 15.4354 14.7555 15.2453 15.0956 14.9069C15.4356 14.5684 15.6267 14.1094 15.6267 13.6308C15.6267 13.1522 15.4356 12.6932 15.0956 12.3547C14.7555 12.0163 14.2943 11.8262 13.8133 11.8262ZM12.1067 16.9216C12.0784 16.9216 12.0512 16.9328 12.0312 16.9527C12.0112 16.9726 12 16.9996 12 17.0278V28.0678C12 28.1264 12.0478 28.174 12.1067 28.174H15.52C15.5483 28.174 15.5754 28.1628 15.5954 28.1429C15.6154 28.123 15.6267 28.096 15.6267 28.0678V17.0278C15.6267 16.9996 15.6154 16.9726 15.5954 16.9527C15.5754 16.9328 15.5483 16.9216 15.52 16.9216H12.1067ZM17.6533 16.9216C17.625 16.9216 17.5979 16.9328 17.5779 16.9527C17.5579 16.9726 17.5467 16.9996 17.5467 17.0278V28.0678C17.5467 28.1264 17.5945 28.174 17.6533 28.174H21.0667C21.095 28.174 21.1221 28.1628 21.1421 28.1429C21.1621 28.123 21.1733 28.096 21.1733 28.0678V22.1232C21.1733 21.7009 21.3419 21.2959 21.642 20.9972C21.942 20.6986 22.349 20.5309 22.7733 20.5309C23.1977 20.5309 23.6046 20.6986 23.9047 20.9972C24.2048 21.2959 24.3733 21.7009 24.3733 22.1232V28.0678C24.3733 28.1264 24.4211 28.174 24.48 28.174H27.8933C27.9216 28.174 27.9488 28.1628 27.9688 28.1429C27.9888 28.123 28 28.096 28 28.0678V20.7474C28 18.6863 26.1995 17.0745 24.1387 17.2604C23.5011 17.3187 22.8766 17.4757 22.2878 17.7258L21.1733 18.2014V17.0278C21.1733 16.9996 21.1621 16.9726 21.1421 16.9527C21.1221 16.9328 21.095 16.9216 21.0667 16.9216H17.6533Z" fill="#00205B"/>
</svg>'; // Substitua pelo SVG do LinkedIn
                                        $share_url = "https://www.linkedin.com/shareArticle?mini=true&url={$post_url}&title={$post_title}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'x':
                                        $svg = '<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
<g clip-path="url(#clip0_3026_5107)">
<mask id="mask0_3026_5107" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="10" width="20" height="20">
<path d="M10 10H30V30H10V10Z" fill="white"/>
</mask>
<g mask="url(#mask0_3026_5107)">
<path d="M25.175 11.8438H27.9354L21.9054 18.7532L29 28.1569H23.4457L19.0923 22.4548L14.1166 28.1569H11.3536L17.8027 20.764L11 11.845H16.6957L20.6249 17.056L25.175 11.8438ZM24.2043 26.5009H25.7343L15.86 13.4136H14.2194L24.2043 26.5009Z" fill="#00205B"/>
</g>
</g>
<defs>
<clipPath id="clip0_3026_5107">
<rect width="20" height="20" fill="white" transform="translate(10 10)"/>
</clipPath>
</defs>
</svg>'; // SVG do X (Twitter)
                                        $share_url = "https://x.com/intent/tweet?url={$post_url}&text={$post_title}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'instagram':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M20.0053 12.6177C22.4114 12.6177 22.6963 12.6283 23.6426 12.6705C24.522 12.7092 24.9969 12.8569 25.3135 12.9801C25.7321 13.1419 26.0346 13.3389 26.3477 13.6519C26.6643 13.9685 26.8577 14.2675 27.0195 14.6861C27.1427 15.0027 27.2904 15.4811 27.3291 16.357C27.3713 17.3068 27.3819 17.5918 27.3819 19.9943C27.3819 22.4004 27.3713 22.6854 27.3291 23.6316C27.2904 24.511 27.1427 24.9859 27.0195 25.3025C26.8577 25.7211 26.6607 26.0236 26.3477 26.3367C26.0311 26.6533 25.7321 26.8468 25.3135 27.0086C24.9969 27.1317 24.5185 27.2795 23.6426 27.3182C22.6928 27.3604 22.4079 27.3709 20.0053 27.3709C17.5992 27.3709 17.3142 27.3604 16.368 27.3182C15.4886 27.2795 15.0137 27.1317 14.6971 27.0086C14.2785 26.8468 13.976 26.6498 13.6629 26.3367C13.3463 26.0201 13.1528 25.7211 12.991 25.3025C12.8679 24.9859 12.7201 24.5075 12.6815 23.6316C12.6392 22.6818 12.6287 22.3969 12.6287 19.9943C12.6287 17.5882 12.6392 17.3033 12.6815 16.357C12.7201 15.4776 12.8679 15.0027 12.991 14.6861C13.1528 14.2675 13.3498 13.965 13.6629 13.6519C13.9795 13.3354 14.2785 13.1419 14.6971 12.9801C15.0137 12.8569 15.4921 12.7092 16.368 12.6705C17.3142 12.6283 17.5992 12.6177 20.0053 12.6177ZM20.0053 10.9961C17.5605 10.9961 17.2544 11.0066 16.2941 11.0489C15.3373 11.0911 14.6795 11.2458 14.1096 11.4675C13.5151 11.6996 13.0121 12.0057 12.5126 12.5087C12.0096 13.0082 11.7035 13.5112 11.4714 14.1022C11.2498 14.6756 11.095 15.3299 11.0528 16.2867C11.0106 17.2505 11 17.5566 11 20.0014C11 22.4462 11.0106 22.7522 11.0528 23.7125C11.095 24.6693 11.2498 25.3271 11.4714 25.897C11.7035 26.4915 12.0096 26.9945 12.5126 27.494C13.0121 27.9936 13.5151 28.3031 14.1061 28.5318C14.6795 28.7534 15.3338 28.9082 16.2906 28.9504C17.2509 28.9926 17.557 29.0031 20.0018 29.0031C22.4466 29.0031 22.7526 28.9926 23.7129 28.9504C24.6697 28.9082 25.3275 28.7534 25.8974 28.5318C26.4884 28.3031 26.9914 27.9936 27.4909 27.494C27.9904 26.9945 28.3 26.4915 28.5286 25.9005C28.7502 25.3271 28.905 24.6729 28.9472 23.716C28.9894 22.7557 29 22.4497 29 20.0049C29 17.5601 28.9894 17.2541 28.9472 16.2937C28.905 15.3369 28.7502 14.6791 28.5286 14.1092C28.307 13.5112 28.001 13.0082 27.4979 12.5087C26.9984 12.0092 26.4954 11.6996 25.9044 11.471C25.3311 11.2494 24.6768 11.0946 23.72 11.0524C22.7561 11.0066 22.4501 10.9961 20.0053 10.9961Z" fill="#00205B"/>
  <path d="M20.0053 15.3756C17.4514 15.3756 15.3795 17.4475 15.3795 20.0014C15.3795 22.5552 17.4514 24.6271 20.0053 24.6271C22.5591 24.6271 24.631 22.5552 24.631 20.0014C24.631 17.4475 22.5591 15.3756 20.0053 15.3756ZM20.0053 23.002C18.3484 23.002 17.0047 21.6582 17.0047 20.0014C17.0047 18.3445 18.3484 17.0008 20.0053 17.0008C21.6621 17.0008 23.0059 18.3445 23.0059 20.0014C23.0059 21.6582 21.6621 23.002 20.0053 23.002Z" fill="#00205B"/>
  <path d="M25.8939 15.1927C25.8939 15.7907 25.4084 16.2726 24.814 16.2726C24.2159 16.2726 23.734 15.7872 23.734 15.1927C23.734 14.5947 24.2195 14.1127 24.814 14.1127C25.4084 14.1127 25.8939 14.5982 25.8939 15.1927Z" fill="#00205B"/>
</svg>'; // SVG do Instagram
                                        $share_url = "https://instagram.com/"; // Instagram não suporta share direto, pode ser só link do perfil
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'facebook':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M19.9998 11.0332C15.0294 11.0332 11 15.0626 11 20.033C11 24.2536 13.9059 27.7952 17.8258 28.7679V22.7834H15.9701V20.033H17.8258V18.8479C17.8258 15.7847 19.2122 14.3649 22.2195 14.3649C22.7898 14.3649 23.7736 14.4769 24.1761 14.5885V17.0814C23.9637 17.0591 23.5947 17.048 23.1364 17.048C21.6608 17.048 21.0906 17.607 21.0906 19.0603V20.033H24.0303L23.5252 22.7834H21.0906V28.967C25.5469 28.4288 29 24.6345 29 20.033C28.9996 15.0626 24.9702 11.0332 19.9998 11.0332Z" fill="#00205B"/>
</svg>'; // SVG do Facebook
                                        $share_url = "https://www.facebook.com/sharer/sharer.php?u={$post_url}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'pinterest':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M20 10C14.4766 10 10 14.4766 10 20C10 24.2383 12.6367 27.8555 16.3555 29.3125C16.2695 28.5195 16.1875 27.3086 16.3906 26.4453C16.5742 25.6641 17.5625 21.4766 17.5625 21.4766C17.5625 21.4766 17.2617 20.8789 17.2617 19.9922C17.2617 18.6016 18.0664 17.5625 19.0703 17.5625C19.9219 17.5625 20.3359 18.2031 20.3359 18.9727C20.3359 19.832 19.7891 21.1133 19.5078 22.3008C19.2734 23.2969 20.0078 24.1094 20.9883 24.1094C22.7656 24.1094 24.1328 22.2344 24.1328 19.5312C24.1328 17.1367 22.4141 15.4609 19.957 15.4609C17.1133 15.4609 15.4414 17.5937 15.4414 19.8008C15.4414 20.6602 15.7734 21.582 16.1875 22.082C16.2695 22.1797 16.2812 22.2695 16.2578 22.3672C16.1836 22.6836 16.0117 23.3633 15.9805 23.5C15.9375 23.6836 15.8359 23.7227 15.6445 23.6328C14.3945 23.0508 13.6133 21.2266 13.6133 19.7578C13.6133 16.6016 15.9062 13.707 20.2188 13.707C23.6875 13.707 26.3828 16.1797 26.3828 19.4844C26.3828 22.9297 24.2109 25.7031 21.1953 25.7031C20.1836 25.7031 19.2305 25.1758 18.9023 24.5547C18.9023 24.5547 18.4023 26.4648 18.2812 26.9336C18.0547 27.8008 17.4453 28.8906 17.0391 29.5547C17.9766 29.8438 18.9688 30 20 30C25.5234 30 30 25.5234 30 20C30 14.4766 25.5234 10 20 10Z" fill="#00205B"/>
</svg>'; // SVG do Pinterest
                                        $share_url = "https://pinterest.com/pin/create/button/?url={$post_url}&description={$post_title}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'threads':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M24.7877 19.2696C24.7016 19.2283 24.6141 19.1886 24.5254 19.1505C24.371 16.3061 22.8168 14.6776 20.207 14.6609C20.1951 14.6609 20.1834 14.6609 20.1716 14.6609C18.6106 14.6609 17.3123 15.3272 16.5132 16.5397L17.9485 17.5243C18.5455 16.6186 19.4823 16.4255 20.1722 16.4255C20.1802 16.4255 20.1882 16.4255 20.1961 16.4256C21.0554 16.4311 21.7039 16.6809 22.1235 17.1681C22.429 17.5228 22.6332 18.013 22.7344 18.6316C21.9725 18.5022 21.1485 18.4623 20.2677 18.5128C17.7864 18.6558 16.1913 20.1029 16.2984 22.1137C16.3528 23.1337 16.8609 24.0113 17.7292 24.5845C18.4633 25.0691 19.4087 25.306 20.3914 25.2524C21.6891 25.1812 22.7071 24.6861 23.4173 23.7808C23.9567 23.0933 24.2978 22.2024 24.4484 21.0798C25.0669 21.453 25.5252 21.9442 25.7783 22.5346C26.2087 23.5382 26.2339 25.1875 24.8881 26.5321C23.7091 27.71 22.2918 28.2196 20.1498 28.2353C17.7739 28.2177 15.977 27.4557 14.8087 25.9705C13.7146 24.5798 13.1492 22.571 13.1281 20C13.1492 17.4289 13.7146 15.4202 14.8087 14.0294C15.977 12.5443 17.7738 11.7823 20.1498 11.7646C22.543 11.7824 24.3713 12.5481 25.5843 14.0404C26.1791 14.7722 26.6275 15.6926 26.9231 16.7657L28.6051 16.3169C28.2468 14.9961 27.6829 13.8579 26.9156 12.914C25.3605 11.0007 23.0861 10.0203 20.1557 10H20.1439C17.2194 10.0203 14.9705 11.0044 13.4597 12.9249C12.1153 14.634 11.4218 17.0121 11.3985 19.993L11.3984 20L11.3985 20.007C11.4218 22.9879 12.1153 25.366 13.4597 27.0751C14.9705 28.9956 17.2194 29.9798 20.1439 30H20.1557C22.7557 29.982 24.5884 29.3013 26.0982 27.7928C28.0735 25.8194 28.0141 23.3457 27.363 21.8272C26.8959 20.7382 26.0054 19.8538 24.7877 19.2696ZM20.2985 23.4903C19.211 23.5516 18.0812 23.0634 18.0255 22.0179C17.9842 21.2427 18.5772 20.3777 20.3652 20.2747C20.57 20.2629 20.7709 20.2571 20.9683 20.2571C21.6178 20.2571 22.2254 20.3202 22.7778 20.4409C22.5718 23.0141 21.3632 23.4319 20.2985 23.4903Z" fill="#00205B"/>
</svg>'; // SVG do Threads
                                        $share_url = "https://threads.net/"; // Não suporta share direto, pode ser só o link do perfil
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'whatsapp':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M10.0469 30L11.4527 24.8642C10.5852 23.3608 10.1294 21.6567 10.1302 19.9092C10.1327 14.4458 14.5785 10 20.041 10C22.6919 10.0008 25.1802 11.0333 27.0519 12.9067C28.9227 14.78 29.9527 17.27 29.9519 19.9183C29.9494 25.3825 25.5035 29.8283 20.041 29.8283C18.3827 29.8275 16.7485 29.4117 15.301 28.6217L10.0469 30ZM15.5444 26.8275C16.941 27.6567 18.2744 28.1533 20.0377 28.1542C24.5777 28.1542 28.276 24.4592 28.2785 19.9167C28.2802 15.365 24.5994 11.675 20.0444 11.6733C15.501 11.6733 11.8052 15.3683 11.8035 19.91C11.8027 21.7642 12.346 23.1525 13.2585 24.605L12.426 27.645L15.5444 26.8275ZM25.0335 22.2742C24.9719 22.1708 24.8069 22.1092 24.5585 21.985C24.311 21.8608 23.0935 21.2617 22.866 21.1792C22.6394 21.0967 22.4744 21.055 22.3085 21.3033C22.1435 21.5508 21.6685 22.1092 21.5244 22.2742C21.3802 22.4392 21.2352 22.46 20.9877 22.3358C20.7402 22.2117 19.9419 21.9508 18.996 21.1067C18.2602 20.45 17.7627 19.6392 17.6185 19.3908C17.4744 19.1433 17.6035 19.0092 17.7269 18.8858C17.8385 18.775 17.9744 18.5967 18.0985 18.4517C18.2244 18.3083 18.2652 18.205 18.3485 18.0392C18.431 17.8742 18.3902 17.7292 18.3277 17.605C18.2652 17.4817 17.7702 16.2625 17.5644 15.7667C17.3627 15.2842 17.1585 15.3492 17.0069 15.3417L16.5319 15.3333C16.3669 15.3333 16.0985 15.395 15.8719 15.6433C15.6452 15.8917 15.0052 16.49 15.0052 17.7092C15.0052 18.9283 15.8927 20.1058 16.016 20.2708C16.1402 20.4358 17.7619 22.9375 20.246 24.01C20.8369 24.265 21.2985 24.4175 21.6577 24.5317C22.251 24.72 22.791 24.6933 23.2177 24.63C23.6935 24.5592 24.6827 24.0308 24.8894 23.4525C25.096 22.8733 25.096 22.3775 25.0335 22.2742Z" fill="#00205B"/>
</svg>'; // SVG do WhatsApp
                                        $share_url = "https://wa.me/?text={$post_title}%20{$post_url}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'telegram':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M30 20C30 25.5228 25.5228 30 20 30C14.4772 30 10 25.5228 10 20C10 14.4772 14.4772 10 20 10C25.5228 10 30 14.4772 30 20ZM20.3584 17.3824C19.3857 17.787 17.4418 18.6243 14.5266 19.8944C14.0532 20.0827 13.8052 20.2668 13.7826 20.4469C13.7445 20.7512 14.1256 20.8711 14.6446 21.0343C14.7152 21.0565 14.7883 21.0795 14.8633 21.1038C15.3739 21.2698 16.0607 21.464 16.4177 21.4717C16.7416 21.4787 17.1031 21.3452 17.5022 21.0711C20.226 19.2325 21.632 18.3032 21.7203 18.2831C21.7825 18.269 21.8688 18.2512 21.9273 18.3032C21.9858 18.3552 21.98 18.4536 21.9738 18.48C21.9361 18.6409 20.4401 20.0317 19.6659 20.7515C19.4246 20.9759 19.2534 21.135 19.2184 21.1714C19.14 21.2528 19.0601 21.3298 18.9833 21.4038C18.509 21.8611 18.1533 22.204 19.003 22.764C19.4114 23.0331 19.7381 23.2556 20.0641 23.4776C20.4201 23.7201 20.7752 23.9619 21.2347 24.2631C21.3517 24.3398 21.4635 24.4195 21.5724 24.4971C21.9867 24.7925 22.359 25.0578 22.8188 25.0155C23.086 24.9909 23.3621 24.7397 23.5022 23.9903C23.8335 22.2193 24.4847 18.382 24.6352 16.8008C24.6484 16.6623 24.6318 16.485 24.6185 16.4071C24.6051 16.3293 24.5773 16.2184 24.4761 16.1363C24.3563 16.0391 24.1714 16.0186 24.0886 16.0201C23.7125 16.0267 23.1355 16.2273 20.3584 17.3824Z" fill="#00205B"/>
</svg>'; // SVG do Telegram
                                        $share_url = "https://t.me/share/url?url={$post_url}&text={$post_title}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'reddit':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path d="M22.2884 14.4321C22.4835 15.2587 23.2258 15.8745 24.1122 15.8745C25.147 15.8745 25.9859 15.0356 25.9859 14.0007C25.9859 12.9659 25.147 12.127 24.1122 12.127C23.2073 12.127 22.4527 12.7682 22.277 13.6212C20.7616 13.7838 19.5783 15.069 19.5783 16.6265C19.5783 16.63 19.5783 16.6327 19.5783 16.6362C17.9303 16.7056 16.4255 17.1747 15.2307 17.9152C14.7871 17.5718 14.2302 17.3671 13.6258 17.3671C12.1754 17.3671 11 18.5425 11 19.9928C11 21.0453 11.6184 21.9518 12.5119 22.3709C12.5988 25.4192 15.9204 27.871 20.0061 27.871C24.0919 27.871 27.4179 25.4166 27.5004 22.3656C28.3868 21.9439 29 21.04 29 19.9937C29 18.5434 27.8246 17.3679 26.3742 17.3679C25.7725 17.3679 25.2182 17.5709 24.7754 17.9117C23.5701 17.1659 22.0486 16.6968 20.3839 16.6344C20.3839 16.6318 20.3839 16.63 20.3839 16.6274C20.3839 15.5117 21.2132 14.5858 22.2884 14.4338V14.4321ZM15.1253 21.6593C15.1693 20.707 15.8018 19.9761 16.537 19.9761C17.2723 19.9761 17.8346 20.7483 17.7906 21.7006C17.7467 22.6529 17.1977 22.999 16.4615 22.999C15.7253 22.999 15.0814 22.6116 15.1253 21.6593ZM23.4761 19.9761C24.2123 19.9761 24.8448 20.707 24.8878 21.6593C24.9318 22.6116 24.287 22.999 23.5517 22.999C22.8164 22.999 22.2665 22.6537 22.2225 21.7006C22.1786 20.7483 22.74 19.9761 23.4761 19.9761ZM22.6012 23.8625C22.7391 23.8766 22.8269 24.0198 22.7734 24.148C22.3209 25.2294 21.2527 25.9893 20.0061 25.9893C18.7596 25.9893 17.6922 25.2294 17.2389 24.148C17.1854 24.0198 17.2732 23.8766 17.4111 23.8625C18.2193 23.7808 19.0934 23.736 20.0061 23.736C20.9189 23.736 21.7921 23.7808 22.6012 23.8625Z" fill="#00205B"/>
</svg>'; // SVG do Reddit
                                        $share_url = "https://reddit.com/submit?url={$post_url}&title={$post_title}";
                                        $attrs = 'target="_blank" rel="noopener"';
                                        break;
                                    case 'link':
                                        $svg = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <rect x="0.5" y="0.5" width="39" height="39" rx="7.5" stroke="#D4D5DC"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M18.8448 23.3716C18.8691 23.3838 18.9056 23.3838 18.9056 23.3838V23.4081C18.942 23.4081 19.0148 23.3595 19.0148 23.3595L20.3264 22.0479C20.339 22.0353 20.3514 22.0236 20.3636 22.0123C20.3985 21.9798 20.4297 21.9504 20.4479 21.9144C20.472 21.8658 20.4842 21.8172 20.46 21.7686C20.4357 21.7201 20.3993 21.6715 20.3507 21.6715C19.8527 21.5622 19.4034 21.3193 19.0391 20.955C18.6141 20.5421 18.3591 19.9956 18.2983 19.3763C18.2255 18.6113 18.4927 17.8583 19.0391 17.3119L22.4758 13.8752C23.4473 12.9037 25.1474 12.9037 26.1189 13.8752C26.6046 14.3731 26.8718 15.0167 26.8718 15.7089C26.8718 16.4011 26.6046 17.0569 26.1189 17.5426L24.5524 19.0971C24.516 19.1334 24.5038 19.1942 24.516 19.2428C24.6617 19.765 24.7467 20.3114 24.7467 20.8579C24.7467 21.125 24.7346 21.3557 24.6981 21.55C24.6981 21.6108 24.7224 21.6837 24.7832 21.708C24.8438 21.7443 24.9167 21.7322 24.9653 21.6837L27.6247 19.0363C29.4584 17.1905 29.4584 14.2031 27.6247 12.3694C25.791 10.5357 22.8037 10.5357 20.97 12.3694L17.5333 15.8061C17.2297 16.1097 16.9869 16.4376 16.8047 16.7654C16.8007 16.7695 16.7953 16.7735 16.7899 16.7776C16.7791 16.7857 16.7683 16.7938 16.7683 16.8019C16.0154 18.1498 15.9546 19.7771 16.6225 21.1614C16.8533 21.6351 17.1447 22.0601 17.5333 22.4487C17.9097 22.8372 18.3591 23.153 18.8448 23.3716ZM12.3844 27.6207C13.3073 28.5315 14.5095 28.993 15.7118 28.993L15.6753 29.0052C16.8776 29.0052 18.0919 28.5437 19.0027 27.6329L22.4393 24.1962C23.0708 23.5648 23.508 22.7876 23.7023 21.9254L23.7752 21.3911C23.7995 21.2697 23.7995 21.1482 23.7995 21.0268V20.541C23.7995 20.4195 23.7873 20.2981 23.763 20.2009C23.7509 20.0674 23.7266 19.9581 23.7023 19.8488C23.6781 19.7274 23.6416 19.5938 23.593 19.4481C23.3866 18.7559 22.998 18.1001 22.4515 17.5536C22.0872 17.1893 21.6379 16.8736 21.1521 16.6429C21.1035 16.6064 20.9821 16.6672 20.9821 16.6672L19.6706 17.9787C19.6342 18.0152 19.5856 18.0636 19.5492 18.1365C19.5249 18.173 19.5249 18.2216 19.5492 18.2701C19.5734 18.3187 19.6098 18.3551 19.6584 18.3551C20.1564 18.4523 20.6057 18.6951 20.97 19.0595C21.4557 19.5573 21.7229 20.2131 21.7108 20.9296C21.6986 21.3668 21.5893 21.7918 21.3829 22.1561C21.3343 22.2411 21.2736 22.3383 21.1764 22.4475C21.1278 22.5204 21.0672 22.6054 20.97 22.7026L17.5333 26.1392C17.0476 26.6129 16.3918 26.88 15.7118 26.88C15.0317 26.88 14.3638 26.6129 13.8902 26.1392C13.4045 25.6413 13.1373 24.9977 13.1373 24.3056C13.1373 23.6134 13.4045 22.9576 13.8902 22.4718L15.4567 20.9053C15.4932 20.8567 15.5053 20.796 15.4932 20.7474C15.2503 19.9945 15.1774 19.2295 15.2867 18.4644C15.2989 18.4037 15.2624 18.3308 15.2017 18.3065C15.1531 18.2701 15.0317 18.3308 15.0317 18.3308L12.3844 20.966C11.4858 21.8525 11 23.0426 11 24.2934C11 25.5442 11.4979 26.7342 12.3844 27.6207Z" fill="#00205B"/>
</svg>'; // SVG de corrente/link
                                        $share_url = "#";
                                        $tooltip = '<span class="share-tooltip">Link copied!</span>';
                                        $attrs = 'onclick="copyToClipboard(event, \'' . get_permalink() . '\')"';
                                        break;
                                    default:
                                        $svg = '';
                                        $share_url = '';
                                        $attrs = '';
                                }
                                ?>
                                <a href="<?php echo esc_url($share_url); ?>" class="share-btn share-<?php echo esc_attr($network); ?>"
                                    <?php echo $attrs; ?>>
                                    <?php echo $svg; ?>
                                    <?php echo $tooltip; // Só aparece no link ?>
                                </a>

                            <?php endforeach; ?>
                        </div>
                    </div>

                    <script>
                        function copyToClipboard(event, url, btn) {
                            event.preventDefault();
                            if (navigator.clipboard) {
                                navigator.clipboard.writeText(url)
                                    .then(() => showTooltip(btn))
                                    .catch(() => showTooltip(btn, 'Error copying link!'));
                            } else {
                                var temp = document.createElement('input');
                                document.body.appendChild(temp);
                                temp.value = url;
                                temp.select();
                                document.execCommand('copy');
                                document.body.removeChild(temp);
                                showTooltip(btn);
                            }
                        }

                        function showTooltip(btn, msg = 'Link copied!') {
                            let tooltip = btn.querySelector('.share-tooltip');
                            if (!tooltip) return;
                            tooltip.textContent = msg;
                            btn.classList.add('show-tooltip');
                            setTimeout(() => {
                                btn.classList.remove('show-tooltip');
                            }, 1500);
                        }
                    </script>

                <?php endif; ?>


                <div class="media-content">
                    <time class="media-date blue-txt"><?php echo get_the_date('F j, Y'); ?></time>

                    <h1 class="media-title blue-txt"><?php the_title(); ?></h1>

                    <div class="media-text">
                        <?php echo get_field('description'); ?>
                    </div>
                </div>

                <div class="media-navigation">
                    <a href="<?php echo get_post_type_archive_link('case_studies'); ?>" class="back-to-archive">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        <p class="grey-txt">Back to Press Releases</p>
                    </a>
                </div>

            </div>
        </article>

        <?php
    endwhile;
endif;
?>


<?php
get_footer();
?>